(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{9992:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/travels/buyTicket",function(){return t(1830)}])},1830:function(e,n,t){"use strict";t.r(n);var r=t(4051),a=t.n(r),i=t(5893),o=t(7294),s=t(1163),c=t(6172),l=t(6811),u=t(7117),d=t(3712),f=t(9824),h=t(2636),x=t(3646),p=t(7436),g=t(1489),j=t(1898),m=(t(7041),t(8698),t(290)),v=t(499),Z=t(4745),w=t(4082),S=t(4989),C=t(5451),y=t(9918),k=t(9198),T=t.n(k),b=t(3345);function D(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,a)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){D(i,r,a,o,s,"next",e)}function s(e){D(i,r,a,o,s,"throw",e)}o(void 0)}))}}(0,k.registerLocale)("es",b.Z),n.default=function(){var e=function(){Q(!1),G(!1)},n=function(e){var n=e.getDay();1===n&&(W.diaSemana="lunes"),2===n&&(W.diaSemana="martes"),3===n&&(W.diaSemana="miercoles"),4===n&&(W.diaSemana="jueves"),5===n&&(W.diaSemana="viernes"),6===n&&(W.diaSemana="sabado"),0===n&&(W.diaSemana="domingo")},t=function(e,n,t){var r=e.toString(),a=n+1;r=e<10?"0".concat(r):e,a=n<10?"0".concat(a):n,ie.fecha="".concat(r)+"".concat(a)+"".concat(t)},r=(0,s.useRouter)(),k=(0,o.useState)(!0),b=k[0],D=k[1],L=(0,o.useState)(new Date),P=L[0],E=L[1],O=(0,o.useState)([]),B=O[0],F=(O[1],(0,o.useState)([])),H=F[0],N=(F[1],(0,o.useState)("")),V=N[0],A=N[1],z=(0,o.useState)(""),I=z[0],R=z[1],X=(0,o.useState)(!0),Y=X[0],M=X[1],$=(0,o.useState)(!1),q=$[0],G=$[1],J=(0,o.useState)(!1),K=J[0],Q=J[1],U=(0,o.useState)({dia:"",mes:"",ano:"",diaSemana:""}),W=U[0],ee=(U[1],(0,o.useState)("")),ne=ee[0],te=ee[1],re=function(){var e=_(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),V!==I?(n(P),y.kV.getAllTravels(V,I,W).then((function(e){te(e.data),M(!1),G(!0)})).catch((function(e){f.Z.danger(e)}))):f.Z.danger("Origen y Destino deben ser diferentes");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=(0,o.useState)({info:"",fecha:"",nroAsiento:"",code:""}),ie=ae[0],oe=(ae[1],(0,o.useState)([])),se=oe[0],ce=oe[1],le=(0,o.useCallback)((function(e){try{B.length>0?console.log("hay objetos"):(e.origenes.map((function(e){return B.push(e.origen)})),e.destinos.map((function(e){return H.push(e.destino)})))}catch(n){f.Z.danger(n)}}),[B,H]),ue=function(){var e=_(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie.info=n,t(P.getDate(),P.getMonth(),P.getFullYear()),Q(!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),de=function(){var e=_(a().mark((function e(n,t,r,i){var o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.length>4?f.Z.danger("Carrito lleno!"):((o={info:"",fecha:"",nroAsiento:"",code:""}).info=n,o.fecha=t,o.nroAsiento=r,o.code=i,(s=se).push(o),ce(s),Q(!1),G(!1),M(!0),f.Z.success("Pasaje agregado"));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),fe=function(){var e=_(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){y.kV.getAllTravelsName().then((function(e){return le(e)})).then(D(!1))}),[le]),(0,i.jsxs)(i.Fragment,{children:[b?(0,i.jsx)(v.default,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",children:[(0,i.jsx)(h.Z,{icon:C.t,height:48,marginTop:18,marginLeft:20,onClick:function(){return r.push("/")}}),(0,i.jsx)(m.default,{})]}),(0,i.jsx)(l.Z,{background:"tint1",width:"100%",height:"90vh",border:"default",display:"flex",flexDirection:"column",justifyContent:"space-around",children:(0,i.jsxs)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"space-around",children:[(0,i.jsx)(l.Z,{background:"white",marginTop:-60,children:se.length>0?(0,i.jsx)(w.default,{carrito:se,rmvElmt:fe}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)("form",{onSubmit:re,children:(0,i.jsxs)(d.Z,{background:"white",elevation:1,height:350,width:"100%",border:"default",padding:30,display:"flex",flexDirection:"column",alignItems:"center",children:[(0,i.jsx)(x.Z,{size:600,marginTop:10,children:"Buscar Viajes"}),(0,i.jsx)(p.Z,{openOnFocus:!0,items:B,onChange:function(e){return A(e)},placeholder:"Origen",marginTop:20,width:"100%"}),(0,i.jsx)(p.Z,{openOnFocus:!0,items:H,onChange:function(e){return R(e)},placeholder:"Destino",marginTop:10,marginBottom:10,width:"100%"}),(0,i.jsx)(T(),{locale:"es",selected:P,onChange:function(e){return E(e)},customInput:(0,i.jsx)(g.Z,{}),isClearable:!0,placeholderText:"Selecciona una fecha"}),(0,i.jsx)(j.ZP,{appearance:"primary",display:"flex",marginTop:20,type:"submit",children:"Buscar Viajes"})]})})}),(0,i.jsx)(l.Z,{background:"white"})]})})]}),(0,i.jsxs)(c.Z,{isShown:q,onCloseComplete:function(){return e()},preventBodyScrolling:!0,containerProps:{display:"flex",flex:"1",flexDirection:"column"},children:[(0,i.jsx)(l.Z,{zIndex:1,flexShrink:0,elevation:0,backgroundColor:"white",children:(0,i.jsx)(l.Z,{padding:16,children:(0,i.jsx)(u.Z,{size:600,children:"Viajes disponibles"})})}),(0,i.jsx)(l.Z,{flex:"1",overflowY:"scroll",background:"tint1",padding:16,children:(0,i.jsx)(d.Z,{backgroundColor:"white",elevation:0,height:"auto",width:"auto",children:K?(0,i.jsx)(Z.default,{travelData:ie,parentCallBack:de}):(0,i.jsx)(S.default,{travels:ne,isLoadingList:Y,showTravelDetail:ue})})})]})]})}},4989:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t(5893),a=t(7887),i=t(1898),o=t(499);function s(e){return(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(a.Z.Head,{children:[(0,r.jsx)(a.Z.SearchHeaderCell,{}),(0,r.jsx)(a.Z.TextHeaderCell,{marginLeft:-50,children:"Origen"}),(0,r.jsx)(a.Z.TextHeaderCell,{marginLeft:-110,children:"Destino"}),(0,r.jsx)(a.Z.TextHeaderCell,{marginLeft:-100,children:"Costo"})]}),(0,r.jsx)(a.Z.Body,{height:"auto",width:"auto",marginLeft:30,children:e.isLoadingList?(0,r.jsx)(o.default,{}):e.travels.map((function(n){return(0,r.jsxs)(a.Z.Row,{children:[(0,r.jsxs)(a.Z.TextCell,{children:[(t=n.horaSalida,t.toString().slice(0,2)+":"+t.toString().slice(2,4))," Hrs."]}),(0,r.jsx)(a.Z.TextCell,{children:n.origen}),(0,r.jsx)(a.Z.TextCell,{children:n.destino}),(0,r.jsxs)(a.Z.TextCell,{children:["$",n.costoViaje]}),(0,r.jsx)(a.Z.TextCell,{children:(0,r.jsx)(i.ZP,{appearance:"primary",intent:"danger",display:"flex",onClick:function(){return e.showTravelDetail(n)},children:"Detalles"})})]},n.idtravel);var t}))})]})}}},function(e){e.O(0,[655,898,385,582,365,824,247,332,954,386,887,202,358,82,745,774,888,179],(function(){return n=9992,e(e.s=n);var n}));var n=e.O();_N_E=n}]);